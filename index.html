<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PhishGuard — Phishing Email Checker</title>
    
    <!-- 1. Tailwind CSS (kept for utility classes) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. Fonts (Inter & Fira Code) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- 3. Custom Stylesheet -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- 4. Tailwind Config (needed for CDN) -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        inter: ['Inter', 'sans-serif'],
                        mono: ['Fira Code', 'monospace'],
                    },
                    colors: {
                        'bg-dark': 'var(--bg)',
                        accent: 'var(--accent)',
                        accent2: 'var(--accent2)',
                        danger: 'var(--danger)',
                        warn: 'var(--warn)',
                        ok: 'var(--ok)',
                        muted: 'var(--muted)',
                    },
                    borderColor: {
                        'glass': 'var(--glass-border)',
                    },
                    boxShadow: {
                        'glow': '0 0 15px 0px var(--accent-dim)',
                    }
                }
            }
        }
    </script>
</head>
<body class="min-h-screen p-4 sm:p-6 lg:p-8">

    <!-- Wrapper -->
    <div class="max-w-7xl mx-auto">

        <!-- Header -->
        <header class="flex items-center justify-between mb-6">
            <div class="flex items-center gap-3">
                <!-- Logo SVG -->
                <svg class="h-8 w-8 text-accent" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L3 7V15.5C3 19.08 6.14 22.41 11.33 23.8C11.58 23.87 11.8 23.9 12 23.9C12.2 23.9 12.42 23.87 12.67 23.8C17.86 22.41 21 19.08 21 15.5V7L12 2ZM12 4.14L18.44 8.04L12 11.94L5.56 8.04L12 4.14ZM5 9.6V15.5C5 17.97 7.21 20.25 11.33 21.36C11.55 21.42 11.78 21.45 12 21.45C12.22 21.45 12.45 21.42 12.67 21.36C16.79 20.25 19 17.97 19 15.5V9.6L12 13.9L5 9.6Z" fill="currentColor"/>
                </svg>
                <div>
                    <h1 class="text-xl sm:text-2xl font-bold text-white">PhishGuard</h1>
                    <p class="text-xs sm:text-sm text-muted">Client-Side Phishing Email Checker</p>
                </div>
            </div>
            <div classs="flex items-center gap-2">
                 <button id="clear-btn" title="Clear All" class="glass p-2 rounded-lg text-muted hover:text-white hover:border-accent transition-all">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Content Grid -->
        <main class="grid grid-cols-1 lg:grid-cols-2 gap-6">

            <!-- Left Pane: Input -->
            <section class="glass rounded-xl p-4 sm:p-6 flex flex-col gap-4 min-h-[60vh]">
                <h2 class="text-lg font-semibold text-white">Email Input</h2>
                <textarea id="email-input" class="flex-grow w-full rounded-lg p-3 font-mono text-sm text-white/90 resize-none" placeholder="Paste raw email here (headers + body) — or drop an .eml file..."></textarea>
                
                <div id="drop-zone" class="hidden absolute inset-0 bg-accent/20 border-2 border-dashed border-accent rounded-xl flex items-center justify-center pointer-events-none">
                    <span class="text-lg font-semibold text-white">Drop .eml file here</span>
                </div>
                
                <div class="flex flex-wrap gap-3">
                    <button id="paste-btn" class="flex-1 min-w-[120px] bg-accent/20 text-accent border border-accent/30 rounded-lg py-2 px-4 font-semibold hover:bg-accent/30 transition-all">Paste from Clipboard</button>
                    
                    <label for="file-upload" class="flex-1 min-w-[120px] text-center cursor-pointer bg-accent/20 text-accent border border-accent/30 rounded-lg py-2 px-4 font-semibold hover:bg-accent/30 transition-all">
                        Upload .eml
                    </label>
                    <input type="file" id="file-upload" accept=".eml,.txt" class="hidden">
                    
                    <button id="analyze-btn" class="flex-1 min-w-[120px] bg-accent text-bg-dark rounded-lg py-2 px-4 font-bold hover:bg-white transition-all shadow-lg shadow-accent/20">
                        <span id="analyze-btn-text">Analyze</span>
                        <span id="analyze-spinner" class="hidden">
                            <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-bg-dark inline-block" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                            Analyzing...
                        </span>
                    </button>
                </div>
            </section>

            <!-- Right Pane: Results -->
            <section class="glass rounded-xl p-4 sm:p-6 min-h-[60vh]">
                <h2 class="text-lg font-semibold text-white mb-4">Analysis Results</h2>

                <!-- Summary Card -->
                <div id="summary-card" class="glass rounded-lg p-4 mb-4 flex items-center justify-around text-center hidden animate-fade-in">
                    <div>
                        <div class="text-sm text-muted">Overall Risk</div>
                        <div id="overall-risk-score" class="text-3xl font-bold text-white">--</div>
                        <div id="overall-risk-label" class="text-sm font-medium">Not Scanned</div>
                    </div>
                    <div>
                        <div class="text-sm text-muted">Threats Found</div>
                        <div id="threats-found-count" class="text-3xl font-bold text-white">0</div>
                    </div>
                    <div>
                        <div class="text-sm text-muted">Highest Severity</div>
                        <div id="highest-severity" class="text-base font-medium capitalize px-3 py-1 rounded-full bg-gray-600 text-white mt-1">None</div>
                    </div>
                </div>
                
                <!-- Placeholder -->
                <div id="results-placeholder" class="h-full flex flex-col items-center justify-center text-center text-muted">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 opacity-30" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
                    </svg>
                    <p class="mt-4 text-lg">Results will appear here</p>
                    <p class="text-sm">Paste an email and click "Analyze" to begin.</p>
                </div>

                <!-- Results List -->
                <div id="results-list" class="flex flex-col gap-3 max-h-[45vh] overflow-y-auto pr-2">
                    <!-- Threat items will be injected here by JS -->
                </div>

            </section>
        </main>

        <!-- Bottom Bar: Log Console & Export -->
        <footer class="mt-6 grid grid-cols-1 md:grid-cols-3 gap-4">
            <div class="md:col-span-2 glass rounded-xl p-4">
                <h3 class="text-sm font-semibold text-white mb-2">Analysis Log</h3>
                <div id="log-console" class="h-24 overflow-y-auto font-mono text-xs text-muted pr-2">
                    <div class="log-entry">Waiting for analysis...</div>
                </div>
            </div>
            <div class="glass rounded-xl p-4 flex flex-col justify-center items-center gap-3">
                 <h3 class="text-sm font-semibold text-white">Actions</h3>
                 <button id="export-btn" disabled class="w-full bg-accent2/20 text-accent2 border border-accent2/30 rounded-lg py-2 px-4 font-semibold hover:bg-accent2/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                    Export JSON Log
                 </button>
            </div>
        </footer>

    </div>
    
    <!-- Popup Modal -->
    <div id="popup-overlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-40 hidden animate-fade-in" role="dialog" aria-modal="true">
        <div id="popup-card" class="glass rounded-xl max-w-2xl w-full max-h-[80vh] flex flex-col overflow-hidden animate-fade-in">
            <!-- Header -->
            <header class="flex items-center justify-between p-4 border-b border-glass">
                <div class="flex items-center gap-3">
                    <span id="popup-severity-badge" class="text-xs font-medium uppercase px-3 py-1 rounded-full">Severity</span>
                    <h2 id="popup-title" class="text-lg font-semibold text-white">Threat Details</h2>
                </div>
                <button id="popup-close-btn" class="p-1 rounded-full text-muted hover:text-white hover:bg-white/10 transition-all" aria-label="Close modal">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                      <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </header>
            
            <!-- Content -->
            <div class="p-6 overflow-y-auto">
                <p id="popup-description" class="text-white/90 mb-4">Description of the threat...</p>
                
                <h3 class="text-sm font-semibold text-accent2 mb-2">Evidence Found</h3>
                <pre id="popup-evidence" class="glass bg-black/20 rounded-lg p-3 font-mono text-sm text-white/80 overflow-x-auto max-h-40"><code>No evidence provided.</code></pre>
                
                <h3 class="text-sm font-semibold text-ok mt-4 mb-2">Suggested Action</h3>
                <p id="popup-suggestion" class="text-white/90">How to remediate...</p>
            </div>
            
            <!-- Footer -->
            <footer class="p-4 mt-auto border-t border-glass flex justify-end gap-3">
                <button id="popup-copy-btn" class="bg-white/10 text-white/80 border border-glass rounded-lg py-2 px-4 font-semibold hover:bg-white/20 transition-all">Copy Evidence</button>
                <button id="popup-close-btn-2" class="bg-accent text-bg-dark rounded-lg py-2 px-4 font-bold hover:bg-white transition-all">Close</button>
This is the HTML file. It links to `styles.css` for the styling and `app.js` for the functionality.

You can find the CSS and JavaScript code in my previous response, right after this HTML file.
            </footer>
        </div>
    </div>

    <!-- 5. Application JavaScript -->
    <script src="app.js"></script>
</body>
</html>
